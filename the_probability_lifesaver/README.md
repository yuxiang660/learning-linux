# 序
《普林斯顿概率论读本》读书笔记

# 一般性理论

# 引言
## 生日问题
* 问题表述
   * 房间里有多少人才能保证其中至少两个人的生日再同一天的概率不小于50%？
   * 假设对每个人来说，出生再一年中任何一天的概率都是相等的。那么，房间里有多少人才能保证其中至少两个人的生日再同一天的概率不小于50%？
   * 假设客人的出生日期都是相互独立的，并且每个人都等可能地出生再一年中的任何一天(2月29日除外)，那么房间里有多少人才能保证其中至少两个人的生日再同一天的概率不小于50%？
* 解决问题
   * 狄利克雷鸽巢原理(抽屉原理)：设A1~An是一组集合，并且A1+...+An中至少有n+1个元素，那么至少有一个Ai包含了不少于两个元素
   * 计算对立事件的概率
   * [概率计算](./code/birth/same_birth_prob.py)
      * 概率分布图<br>
      ![birth_prob](./pictures/birth_prob.png)
* 对问题和答案的推广：效率
   * 假设我们有一些麦片包装盒， 每个盒子都等可能地放着n个不同玩具中的一个，那么再首次得到两个相同的玩具之前，我们已经得到了多少个玩具？
   * 假设某种东西正在破坏某个系统，必须击中两次才能完全破坏。如果在每次攻击中，所有地方都等可能地被击中，那么需要进行多少次攻击才能使得至少一个系统被摧毁？
   * 生日问题的概率公式：![$$\prod_{k=0}^{n-1}(1-\frac{k}{365})$$](https://render.githubusercontent.com/render/math?math=\prod_{k=0}^{n-1}(1-\frac{k}{365}))
      * 利用`ln(1-x)`的泰勒级数近似`-x`，可得：![$$\ln{p_{n}}\approx\sum_{k=0}^{n-1}-\frac{k}{365}$$](https://render.githubusercontent.com/render/math?math=\ln{p_{n}}\approx\sum_{k=0}^{n-1}-\frac{k}{365})
      * 最终：![$$n\approx\sqrt{D\cdot2\ln{2}}$$](https://render.githubusercontent.com/render/math?math=n\approx\sqrt{D\cdot2\ln{2}})
* 数值验证
   * 验证上面的近似公式["code"](./code/birth/verify.py)，对比如下：<br>
   ![birth_prob_appr](./pictures/birth_prob_appr.png)

## 从投篮到几何级数
* 问题和解答
   * 对于某个不断重复的进程，找到它首次成功所需要等待时间的分布
   * 解答方法1
      * 几何级数
   * 解答方法2
      * 无记忆进程，通过对每个独立的进程联立方程求解。例如，设每组的起始时刻开始，某人赢的概率为x。
* 编程模拟纸牌游戏
   * Alice、Bob和Charlie玩纸牌游戏，第一个拿到方块牌的人获胜。Alice先抽， 之后Bob，最后Charlie。
   * 通过计算可得三人赢的概率分别是：16/37，12/37，9/37
   * 通过计算机模拟结果是一样的，参见[代码](./code/get_diamond/get_diamond.py)

# 基本概率定律
## 悖论
* 罗素悖论
   * 并不是所有描述都能构成一个集合的，如：由那些不属于自身的对象构成的集合，那此集合的自身是否属于此集合
   * 为了解决罗素悖论，要求“集合的元素必须明确”

## 集合论综述
### 漫谈编程
* [代码1](./code/four_square_sum/violent_solution.py)和[代码2](./code/four_square_sum/better_solution.py)

### 无穷大的大小和概率
* 集合论的一个重要结果是存在不同程度的无穷大(有些无穷大要比其他的无穷大更大)。
* 映射概念
   * 一对一函数，或者“单射”
      * 不同的输入对应到不同的输出
      * 平行于x轴的直线，只有一个交点
   * 映上(或满射)函数
      * 所有y均有对应的x
      * 没有多余的输出没有对应的输入
   * 如果f既是一对一的又是映上的，那么我们就说f是“**双射**”的。
* 集合的大小
   * 有限 < 可数 < 不可数
   * 如果在A和正整数集之间存在一个“双射”，则A是“可数”的
   * 如果A既不是有限的，也不是可数的，则A是“不可数”的
   * 可数集不仅有无穷多个元素，而且它的大小是**最小的无穷大**
      * 如果A是B的一个真子集，A和B的大小相等也是有可能的，如
         * 正偶数集E和正整数集P，存在一个双射f(x) = x/2。因此，E的每一个元素都与P中的唯一元素相匹配，反之亦然。
* 常见集合大小
   * 正整数集、整数集Z，有理数集Q，以及Q^n(n元有理数组的集合)具有相同的大小，这些集都是可数的。
   * 实数集R、平面R^2和n维空间R^n都是不可数的。
* 如果集合A和B之间存在两个映上函数，f: A->B和g: B->A，那么A和B的基数相同，即|A|=|B|
* 对于集合A来说，如果存在一个映射f:A->A是一对一的，但不是映上的，那么集合A就是“无限的”
   * 任意一个有限集都不可能使到自身的映射是单射但不是映上的
* 只能讨论可数事件的并的概率，也就是说，对于不可数个事件的并，我们无法讨论其概率。

### 开集和闭集
* 如果对于任意给定的a属于A，都存在1个r，使得Ba(r)是A的真子集，那么就说集合A是开的。如果A的补集是开的，那么A就是闭的。
   * 一个没有边界的圆或球是一个开集；如果把边界包括在内，就得到了一个闭集。

## 结果空间、事件和概率公理
* 如何合理地谈论概率？
   * 样本空间或结果空间Ω：所有可能的结果都是样本空间的子集
   * 事件：样本空间中的元素称为事件
   * 概率函数Prob：指定了样本空间中的不同元素(事件)的概率

## 概率公理
* 概率空间
   * 样本空间Ω
   * 样本空间中可能的子集Σ
      * 如果Ω中有n个元素，那么Ω的2^n个子集就构成了Σ
   * 概率函数Prob
      * 三元组(Ω，Σ，Prob)称为概率空间，利用函数Prob，我们把概率分配给Σ的子集，其中Σ是一个定义了函数Prob的特殊σ代数
* 柯尔莫戈洛夫的概率公理
   * Ω是一个样本(结果)空间，Σ是一个σ代数。如果概率函数满足下列条件，那么(Ω，Σ，Prob)就是一个概率空间。
      * 如果A∈Σ，那么Pr(A)是有定义的，并且0≤Pr(A)≤1
      * Pr(Φ)=0且Pr(Ω)=1
      * 设{Ai}是由有限个或可数个两两互不相交的集合构成的集族，并且每一个集合都是Σ中的元素，那么：![$$Pr(\cup_{i}A_{i}) = \sum_{i}Pr(A_{i})$$](https://render.githubusercontent.com/render/math?math=Pr(\cup_{i}A_{i})%20=%20\sum_{i}Pr(A_{i}))
